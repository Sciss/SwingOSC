<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="824.42">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Helvetica; color: #52547d}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #52547d; min-height: 14.0px}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Helvetica; color: #52547d}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Helvetica; color: #52547d; min-height: 13.0px}
p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px Helvetica; min-height: 22.0px}
p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica}
p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #52547d}
p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #bf0000}
p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 10.0px Monaco}
p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; font: 10.0px Monaco; color: #000000}
p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 10.0px Monaco; color: #000000; min-height: 14.0px}
p.p14 {margin: 0.0px 0.0px 0.0px 0.0px; font: 10.0px Monaco; color: #bf0000}
p.p15 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Monaco; color: #000000; min-height: 15.0px}
p.p16 {margin: 0.0px 0.0px 0.0px 0.0px; font: 10.0px Monaco; min-height: 14.0px}
p.p17 {margin: 0.0px 0.0px 0.0px 0.0px; font: 10.0px Monaco; color: #843424; min-height: 14.0px}
p.p18 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Helvetica; color: #000000; min-height: 16.0px}
p.p19 {margin: 0.0px 0.0px 0.0px 0.0px; font: 10.0px Monaco; color: #606060}
p.p20 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p21 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #000000; min-height: 12.0px}
p.p22 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #b14631}
p.p23 {margin: 0.0px 0.0px 0.0px 10.0px; font: 10.0px Monaco}
p.p24 {margin: 0.0px 0.0px 0.0px 10.0px; font: 10.0px Monaco; color: #000000}
p.p25 {margin: 0.0px 0.0px 0.0px 10.0px; font: 10.0px Monaco; color: #000000; min-height: 14.0px}
p.p26 {margin: 0.0px 0.0px 0.0px 10.0px; font: 10.0px Monaco; min-height: 14.0px}
span.s1 {font: 18.0px Helvetica}
span.s2 {text-decoration: underline}
span.s3 {color: #0000bf}
span.s4 {color: #000000}
span.s5 {color: #007300}
span.s6 {color: #606060}
span.s7 {font: 10.0px Monaco; color: #0d32ac}
span.s8 {font: 12.0px Helvetica}
span.s9 {font: 10.0px Monaco; color: #072cae}
span.s10 {color: #52547d}
span.s11 {font: 10.0px Monaco; color: #0000bf}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1"><b>SwingOSC – Java-based cross-platform replacements for Cocoa GUI classes</b></p>
<p class="p2"><br></p>
<p class="p3">This class is meant as an emulation of SCUserView. last mod: 25-nov-07 sciss</p>
<p class="p4"><br></p>
<p class="p3"><b>no-op / not working</b></p>
<p class="p4"><span class="Apple-tab-span">	</span></p>
<p class="p3"><b>different behaviour</b></p>
<p class="p3"><b><span class="Apple-tab-span">	</span></b>refresh<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>unlike cocoa, there is no "natural" refresh, like from resizing or focussing the</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>component, because of the client/server split. however, this makes this implementation</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>much more stringent (IMO). setting a new drawFunc repaints the gadget</p>
<p class="p3"><span class="Apple-tab-span">	</span>view bounds<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>here is no way to paint outside the logical bounds of a swing view, all draw operations</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>are automatically clipped to the view's bounds.</p>
<p class="p3"><span class="Apple-tab-span">	</span>clearOnRefresh<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>works indepedent from relativeOrigin setting</p>
<p class="p4"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p3"><b>extended functionality</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>focusVisible_<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>allows you to switch off the default focus border painting</p>
<p class="p3"><span class="Apple-tab-span">	</span>refreshOnFocus_<span class="Apple-tab-span">	</span>allows you to switch off refreshing as result of focus change</p>
<p class="p4"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p3"><b>known issues / todo</b></p>
<p class="p5"><br></p>
<p class="p6"><span class="s1"><b>JSCUserView<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></span><b>user-definable view</b></p>
<p class="p7"><br></p>
<p class="p8"><b>Note: please use the abstraction layer GUI.userView if possible! (see [</b><b><span class="s2">GUI</span></b><b>])</b></p>
<p class="p7"><br></p>
<p class="p8"><b>superclass: JSCView</b></p>
<p class="p7"><br></p>
<p class="p8">JSCUserView is a user-definable View intended mainly for use with JPen and drawHooks.</p>
<p class="p7"><br></p>
<p class="p8">See also: <b>[</b><b><span class="s2">JSCWindow</span></b><b>]</b>, <b>[</b><b><span class="s2">JPen</span></b><b>], [</b><b><span class="s2">Color</span></b><b>]</b>, and <b>[</b><b><span class="s2">String</span></b><b>]</b></p>
<p class="p7"><br></p>
<p class="p7"><br></p>
<p class="p8"><b>drawFunc_</b></p>
<p class="p7"><br></p>
<p class="p8">Sets the function which should be evaluated if the view is refreshed.</p>
<p class="p9"><b>Note: </b>This happens when you call userView.refresh.</p>
<p class="p10">//In cocoa GUI, this happens every time the whole window is refreshed (manually by calling JSCWindow-refresh</p>
<p class="p10">//or e.g. by selecting the view or resizing the window).</p>
<p class="p7"><span class="Apple-tab-span">	</span></p>
<p class="p11">(</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="s3">var</span> func;</p>
<p class="p13"><span class="Apple-tab-span">	</span></p>
<p class="p12"><span class="Apple-tab-span">	</span>func = { <span class="s3">arg</span> me;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.use {</p>
<p class="p14"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// clipping into the boundingbox</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.addRect( me.bounds );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.clip;</p>
<p class="p15"><br></p>
<p class="p14"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// draw background</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.color = <span class="s3">Color</span>.gray( 0.5 );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.moveTo( me.bounds.left @ me.bounds.top );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.lineTo( (me.bounds.left @ me.bounds.top) +</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span> <span class="Apple-converted-space">            </span>(me.bounds.width @ 0) );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.lineTo( (me.bounds.left @ me.bounds.top) +</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span> <span class="Apple-converted-space">            </span>(me.bounds.width @ me.bounds.height) );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.lineTo( (me.bounds.left @ me.bounds.top ) +</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span> <span class="Apple-converted-space">            </span>(0 @ me.bounds.height) );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.lineTo( me.bounds.left @ me.bounds.top );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.fill;</p>
<p class="p13"><br></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.translate( 100, 100 );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>10.do {</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.color = <span class="s3">Color</span>.red( rrand( 0.0, 1 ), rrand( 0.0, 0.5 ));</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.addArc( 400.exprand( 2 ) @ 100.rand, rrand( 10, 100 ), 2pi.rand, pi );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.perform([ <span class="s5">\stroke</span>, <span class="s5">\fill</span> ].choose );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p>
<p class="p12"><span class="Apple-tab-span">	</span>};</p>
<p class="p13"><br></p>
<p class="p12"><span class="Apple-tab-span">	</span>w = <span class="s3">JSCWindow</span>.new( <span class="s6">"DrawFunc Examples"</span> ).front;</p>
<p class="p12"><span class="Apple-tab-span">	</span>w.view.background_( <span class="s3">Color</span>.white );</p>
<p class="p12"><span class="Apple-tab-span">	</span>3.do { <span class="s3">arg</span> i;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>v = <span class="s3">JSCUserView</span>( w, <span class="s3">Rect</span>( 20 + (i * 120), 100, 100, 100 ));</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>v.drawFunc = func;</p>
<p class="p12"><span class="Apple-tab-span">	</span>};</p>
<p class="p14">//<span class="Apple-tab-span">	</span>w.refresh;</p>
<p class="p11">)</p>
<p class="p16"><span class="Apple-tab-span">	</span></p>
<p class="p14"><span class="s4">v.refresh;<span class="Apple-tab-span">	</span></span>// updates the last created (third) view</p>
<p class="p14"><span class="s4">w.refresh;<span class="Apple-tab-span">	</span></span>// updates all user views in the window</p>
<p class="p17"><br></p>
<p class="p17"><br></p>
<p class="p9"><b>// these only work in SwingOSC:</b></p>
<p class="p14"><span class="s4">v.refreshOnFocus = </span><span class="s3">false</span><span class="s4">; <span class="Apple-converted-space">  </span></span>// do not re-evaluate drawFunc when focus is gained or lost (can be more efficient)</p>
<p class="p14"><span class="s4">v.focusVisible = </span><span class="s3">false</span><span class="s4">;<span class="Apple-converted-space">  </span></span>// don't paint focus border. you can do yourself in the drawFunc, checking for me.hasFocus!</p>
<p class="p18"><br></p>
<p class="p7"><span class="Apple-tab-span">	</span></p>
<p class="p8"><b>relativeOrigin_</b></p>
<p class="p7"><br></p>
<p class="p8">Set the coordinate origin of <span class="s7">JPen</span> in the view's <span class="s7">drawFunc</span> to be relative to the view's top left corner (when <span class="s7">true</span>) or to be relative to the window's top left corner (when <span class="s7">false</span>, which is the default).</p>
<p class="p7"><br></p>
<p class="p12"><span class="Apple-tab-span">	</span>(</p>
<p class="p19"><span class="s4"><span class="Apple-tab-span">	</span>w = </span><span class="s3">JSCWindow</span><span class="s4">.new( </span>"relativeOrigin = true"<span class="s4"> );</span></p>
<p class="p12"><span class="Apple-tab-span">	</span>w.view.background_( <span class="s3">Color</span>.white );</p>
<p class="p12"><span class="Apple-tab-span">	</span>3.do { <span class="s3">arg</span> i;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>v = <span class="s3">JSCUserView</span>(w, <span class="s3">Rect</span>( 20 + (i * 120), 100, 100, 100 ))</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.relativeOrigin_( <span class="s3">true</span> )</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.drawFunc_({</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.strokeRect( <span class="s3">Rect</span>( 0, 0, 100, 100 ));</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.line( <span class="Apple-converted-space">  </span>0 @ 0, 100 @ 100 );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.line( 100 @ 0, <span class="Apple-converted-space">  </span>0 @ 100 );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.stroke;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>});</p>
<p class="p12"><span class="Apple-tab-span">	</span>};</p>
<p class="p12"><span class="Apple-tab-span">	</span>w.front;</p>
<p class="p12"><span class="Apple-tab-span">	</span>)</p>
<p class="p20"><span class="Apple-tab-span">	</span></p>
<p class="p8">You can achieve a similar result with <span class="s7">relativeOrigin</span> being <span class="s7">false</span>, by translating the coordinate system at the beginning of the <span class="s7">drawFunc</span>:</p>
<p class="p21"><br></p>
<p class="p12"><span class="Apple-tab-span">	</span>(</p>
<p class="p19"><span class="s4"><span class="Apple-tab-span">	</span>w = </span><span class="s3">JSCWindow</span><span class="s4">.new( </span>"relativeOrigin = false"<span class="s4"> );</span></p>
<p class="p12"><span class="Apple-tab-span">	</span>w.view.background_( <span class="s3">Color</span>.white );</p>
<p class="p12"><span class="Apple-tab-span">	</span>3.do { <span class="s3">arg</span> i;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>v = <span class="s3">JSCUserView</span>(w, <span class="s3">Rect</span>( 20 + (i * 120), 100, 100, 100 ))</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.drawFunc_({ <span class="s3">arg</span> view; <span class="s3">var</span> bounds;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>bounds = view.bounds;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.translate( bounds.left, bounds.top );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.strokeRect( <span class="s3">Rect</span>( 0, 0, 100, 100 ));</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.line( <span class="Apple-converted-space">  </span>0 @ 0, 100 @ 100 );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.line( 100 @ 0, <span class="Apple-converted-space">  </span>0 @ 100 );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.stroke;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>})</p>
<p class="p12"><span class="Apple-tab-span">	</span>};</p>
<p class="p12"><span class="Apple-tab-span">	</span>w.front;</p>
<p class="p12"><span class="Apple-tab-span">	</span>)</p>
<p class="p21"><br></p>
<p class="p7"><span class="Apple-tab-span">	</span></p>
<p class="p8"><b>keyDownAction_</b></p>
<p class="p7"><br></p>
<p class="p8">Sets the function which should be evaluated if the view is in focus and a key is pressed. This function will be passed four arguments: the View, the key pressed as a <b>Char</b>, modifier keys (shift, alt, etc.), and the unicode value. See <b>[</b><b><span class="s2">JSCView</span></b><b>]</b> for more details.</p>
<p class="p7"><br></p>
<p class="p12"><span class="Apple-tab-span">	</span>(</p>
<p class="p14"><span class="s4"><span class="Apple-tab-span">	</span></span>// select the window, type something and watch the post window</p>
<p class="p19"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>w = </span><span class="s3">JSCWindow</span><span class="s4">.new( </span>"select this window and type something"<span class="s4"> );</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>c = <span class="s3">JSCUserView</span>( w, w.view.bounds );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>c.keyDownAction = { <span class="s3">arg</span> view, char, modifiers, unicode, keycode;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[char, modifiers, unicode, keycode].postln;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>c.drawFunc = {</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.font<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>= <span class="s3">JFont</span>( <span class="s6">"Helvetica"</span>, 70 );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.fillColor<span class="Apple-tab-span">	</span>= <span class="s3">Color</span>.blue( 0.3, 0.5 );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.stringAtPoint( char.asString, 180 @ 150 );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>};</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>};</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>w.front; c.focus;</p>
<p class="p12"><span class="Apple-tab-span">	</span>)</p>
<p class="p21"><span class="Apple-tab-span">	</span></p>
<p class="p7"><br></p>
<p class="p8"><b>mouseBeginTrackFunc_</b></p>
<p class="p7"><br></p>
<p class="p22"><b>DEPRECATED! use mouseDownAction_ instead! (see [</b><b><span class="s2">JSCView</span></b><b>])</b></p>
<p class="p7"><br></p>
<p class="p8">Sets the function which should be evaluated if the mouse is at the beginning of tracking (mouse-down). This function will be passed four arguments: theView, x coordinate, y coordinate, and keyboard modifiers.</p>
<p class="p7"><br></p>
<p class="p8"><b>mouseTrackFunc_</b></p>
<p class="p7"><br></p>
<p class="p22"><b>DEPRECATED! use mouseMoveAction_ instead! (see [JSCView])</b></p>
<p class="p7"><br></p>
<p class="p8">Sets the function which should be evaluated if the mouse is tracked. This function will be passed four arguments: theView, x coordinate, y coordinate, and keyboard modifiers.</p>
<p class="p7"><br></p>
<p class="p8"><b>mouseEndTrackFunc_</b></p>
<p class="p7"><br></p>
<p class="p22"><b>DEPRECATED! use mouseUpAction_ instead! (see [JSCView])</b></p>
<p class="p7"><br></p>
<p class="p8">Sets the function which should be evaluated if the mouse is at the end of tracking (mouse-up). This function will be passed four arguments: theView, x coordinate, y coordinate, and keyboard modifiers.</p>
<p class="p7"><span class="Apple-tab-span">	</span></p>
<p class="p11">(</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="s3">var</span> drawFunc, beginTrackFunc, endTrackFunc, trackFunc, sat = 0, absX;</p>
<p class="p13"><span class="Apple-tab-span">	</span></p>
<p class="p12"><span class="Apple-tab-span">	</span>drawFunc = { <span class="s3">arg</span> me;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.use {</p>
<p class="p14"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// clipping into the boundingbox</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.addRect( me.bounds );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.clip;</p>
<p class="p13"><br></p>
<p class="p14"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// draw background</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.color = <span class="s3">Color</span>.gray( sat );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.moveTo( me.bounds.left @ me.bounds.top );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.lineTo( (me.bounds.left @ me.bounds.top) +</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span> <span class="Apple-converted-space">            </span>(me.bounds.width @ 0) );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.lineTo( (me.bounds.left @ me.bounds.top) +</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span> <span class="Apple-converted-space">            </span>(me.bounds.width @ me.bounds.height) );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.lineTo( (me.bounds.left @ me.bounds.top ) +</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span> <span class="Apple-converted-space">            </span>(0 @ me.bounds.height) );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.lineTo( me.bounds.left @ me.bounds.top );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.fill;</p>
<p class="p13"><br></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.translate( 100, 100 );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>10.do {</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.color = <span class="s3">Color</span>.red( rrand( 0.0, 1 ), rrand( 0.0, 0.5 ));</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.addArc( 400.exprand( 2 ) @ 100.rand, rrand( 10, 100 ), 2pi.rand, pi );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.perform([ <span class="s5">\stroke</span>, <span class="s5">\fill</span> ].choose );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p>
<p class="p12"><span class="Apple-tab-span">	</span>};</p>
<p class="p12"><span class="Apple-tab-span">	</span>beginTrackFunc = { <span class="s3">arg</span> me, x, y, mod;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>absX = x;</p>
<p class="p19"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>postf( </span>"begin path: x=%\n"<span class="s4">, absX );</span></p>
<p class="p12"><span class="Apple-tab-span">	</span>};</p>
<p class="p12"><span class="Apple-tab-span">	</span>endTrackFunc = { <span class="s3">arg</span> me, x, y, mod;</p>
<p class="p19"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>postf( </span>"end path: (absX-x)=%\n"<span class="s4">, (absX - x));</span></p>
<p class="p12"><span class="Apple-tab-span">	</span>};</p>
<p class="p12"><span class="Apple-tab-span">	</span>trackFunc = { <span class="s3">arg</span> me, x, y, mod;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sat = (absX - x) / 100;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>me.refresh;</p>
<p class="p12"><span class="Apple-tab-span">	</span>};</p>
<p class="p13"><br></p>
<p class="p12"><span class="Apple-tab-span">	</span>w = <span class="s3">JSCWindow</span>.new.front;</p>
<p class="p12"><span class="Apple-tab-span">	</span>w.view.background_(<span class="s3">Color</span>.white);</p>
<p class="p12"><span class="Apple-tab-span">	</span>3.do { <span class="s3">arg</span> i;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>v = <span class="s3">JSCUserView</span>( w, <span class="s3">Rect</span>( 20 + (i * 120), 100, 100, 100 ));</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>v.drawFunc = drawFunc;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>v.mouseDownAction = beginTrackFunc;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>v.mouseUpAction = endTrackFunc;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>v.mouseMoveAction = trackFunc;</p>
<p class="p12"><span class="Apple-tab-span">	</span>};</p>
<p class="p14">//<span class="Apple-tab-span">	</span>w.refresh;</p>
<p class="p11">)</p>
<p class="p7"><span class="Apple-tab-span">	</span></p>
<p class="p14">// draw on the view</p>
<p class="p13"><br></p>
<p class="p14">// <span class="s8"><b>NOTE: </b></span>in swing, do not rely on correct painting</p>
<p class="p14">// when components overlap. components should never overlap.</p>
<p class="p14">// therefore, in this example, we use the drawFunc of the user view</p>
<p class="p14">// and not the window to paint (see SCUserView help for comparison)</p>
<p class="p13"><br></p>
<p class="p14">// <span class="s8"><b>NOTE: </b></span>after some drawing, sclang starts to partially drop</p>
<p class="p14">// OSC packets resulting in illegal drawing commands sent and</p>
<p class="p14">// the dislay to flicker</p>
<p class="p17"><br></p>
<p class="p23">(</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="s3">var</span> w, txt, tmppoints, all;</p>
<p class="p24"><span class="Apple-tab-span">	</span>tmppoints = [];</p>
<p class="p25"><span class="Apple-tab-span">	</span></p>
<p class="p24"><span class="Apple-tab-span">	</span>w = <span class="s3">JSCWindow</span>( <span class="s6">"draw on me"</span>, <span class="s3">Rect</span>( 128, 64, 340, 360 ));</p>
<p class="p24"><span class="Apple-tab-span">	</span>v = <span class="s3">JSCUserView</span>( w, <span class="s3">Rect</span>( 0, 0, 340, 360 ))</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.canFocus_( <span class="s3">false</span> )</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.mouseMoveAction_({ <span class="s3">arg</span> view,x,y;</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>tmppoints = tmppoints.add( x @ y );</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>view.refresh;</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>})</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.mouseUpAction_({ <span class="s3">arg</span> view, x, y;</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>all = all.add( tmppoints.copy );</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>tmppoints = [];</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>view.refresh;</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>})</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.drawFunc_({</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.use {<span class="Apple-tab-span">	</span></p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.width = 1;</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.beginPath;</p>
<p class="p25"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>tmppoints.do { <span class="s3">arg</span> p, i;</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if( i == 0, {</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.moveTo( p );</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}, {</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.lineTo( p );</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>});</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>};</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>all.do{ <span class="s3">arg</span> points;</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>points.do { <span class="s3">arg</span> p, i;</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if( i == 0, {</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.moveTo( p );</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}, {</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.lineTo( p );</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>});</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>};</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>};</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.stroke;</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>};</p>
<p class="p24"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>});</p>
<p class="p25"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p24"><span class="Apple-tab-span">	</span>w.front;</p>
<p class="p23">)</p>
<p class="p26"><br></p>
<p class="p26"><br></p>
<p class="p8"><b>clearOnRefresh_</b></p>
<p class="p7"><br></p>
<p class="p8">Set the behaviour for refreshing the view. If this flag is <span class="s9">true</span> (the default) the view will be cleared before each refresh call, otherwise It will draw in top of it. In the following example we utilize the <span class="s9">GUI</span> factory pattern (described in the [<span class="s2">GUI</span>] help file), so you can easily use it with <span class="s9">CocoaGUI</span> as well.</p>
<p class="p7"><br></p>
<p class="p11">(</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="s3">var</span> width = 640, height = 480, w, theta = 0, drawFunc, gui;</p>
<p class="p12"><span class="Apple-tab-span">	</span>gui = <span class="s3">GUI</span>.get( <span class="s5">\swing</span> );</p>
<p class="p12"><span class="Apple-tab-span">	</span>w = gui.window.new( <span class="s6">"clearOnRefresh = true"</span>, <span class="s3">Rect</span>( 128, 64, width, height ), <span class="s3">false</span> );</p>
<p class="p12"><span class="Apple-tab-span">	</span>drawFunc = { <span class="s3">arg</span> view;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">var</span> x = 20 * sin( theta ), y = 42 * cos( theta );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>gui.pen.addRect( view.bounds.moveTo( 0, 0 ));</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>gui.pen.clip;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>theta = theta + 0.01;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>gui.pen.fillColor_( <span class="s3">Color</span>.red( 0.2, 0.1 ));</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>gui.pen.fillRect( <span class="s3">Rect</span>( 0, 0, width, height ));</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>gui.pen.strokeColor_( <span class="s3">Color</span>.white );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>gui.pen.translate( width * 0.5, height * 0.5 );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>6.do { <span class="s3">arg</span> i;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>gui.pen.rotate( theta * (1 - (i / 6)) );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>gui.pen.scale( 0.7 + (i * 0.4), 0.4 + (i * 0.5) );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>gui.pen.strokeOval( <span class="s3">Rect</span>.aboutPoint( <span class="s3">Point</span>( x, y ), 60, 40 ));</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>};</p>
<p class="p12"><span class="Apple-tab-span">	</span>};</p>
<p class="p12"><span class="Apple-tab-span">	</span>x = gui.userView.new( w, <span class="s3">Rect</span>( 10, 10, width - 20, height - 20 ))</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.canFocus_( <span class="s3">false</span> )</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.drawFunc_( drawFunc )</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.clearOnRefresh_( <span class="s3">false</span> )</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.relativeOrigin_( <span class="s3">true</span> );</p>
<p class="p13"><br></p>
<p class="p12"><span class="Apple-tab-span">	</span>w.front;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="s3">Routine</span>({ while({ x.isClosed.not }, { x.refresh; (1/25).wait })}).play( <span class="s3">AppClock</span> );</p>
<p class="p11">)</p>
<p class="p7"><br></p>
<p class="p7"><br></p>
<p class="p8"><b>refreshOnFocus_ </b><span class="s10"><b>(SwingOSC only!)</b></span></p>
<p class="p7"><br></p>
<p class="p8">To "freeze" a drawing, that is, to prevent it to be re-drawn, use either <span class="s11">.canFocus_( false )</span> or <span class="s11">.refreshOnFocus_( false )</span>:</p>
<p class="p7"><br></p>
<p class="p11">(</p>
<p class="p11"><span class="s3">var</span> func, views;</p>
<p class="p16"><br></p>
<p class="p11">func = {</p>
<p class="p11"><span class="Apple-tab-span">	</span>10.do {</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.color = <span class="s3">Color</span>.red( rrand(0.0, 1), rrand( 0.0, 0.5 ));</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.addArc( 400.exprand( 2 ) @ 100.rand, rrand( 10, 100 ), 2pi.rand, pi );</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">JPen</span>.perform([ <span class="s5">\stroke</span>, <span class="s5">\fill</span> ].choose );</p>
<p class="p11"><span class="Apple-tab-span">	</span>};</p>
<p class="p11">};</p>
<p class="p16"><br></p>
<p class="p19"><span class="s4">w = </span><span class="s3">JSCWindow</span><span class="s4">.new( </span>"Frozen drawing"<span class="s4"> );</span></p>
<p class="p11">w.view.background_( <span class="s3">Color</span>.white );</p>
<p class="p11">views = { <span class="s3">arg</span> i;</p>
<p class="p11"><span class="Apple-tab-span">	</span>v = <span class="s3">JSCUserView</span>( w, <span class="s3">Rect</span>( 20 + (i * 120), 100, 100, 100 ))</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.refreshOnFocus_( <span class="s3">false</span> )</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.relativeOrigin_( <span class="s3">true</span> )</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.drawFunc_( func );</p>
<p class="p11">} ! 3;</p>
<p class="p11">w.front;</p>
<p class="p11">)</p>
</body>
</html>
